<html>
	<head>
		<script src="../../f0xy+yepnope.js"></script>
		<script src="jslitmus.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
		<script>

		f0xy.define("test", {

			DOMModule: f0xy.extend("f0xy.Class", {
				
				methodsDefined: false,

				init : function(domObj){
					this.domObj = domObj;
					this._super();

					var proto = Object.getPrototypeOf(this);
					if(!proto.methodsDefined){
						for(var prop in this.domObj){
							if(!proto[prop]){
								if(typeof this.domObj[prop] === "function"){
									proto[prop] = this.getDOMFunc(prop);
								}
								
								else{
									proto[prop] = this.domObj[prop];
								}
							}
						}
						proto.methodsDefined = true;
					}
				},		
				
				getDOMFunc : function(method){
					return function(){
						if(arguments[0] && arguments[0].isClass){
							arguments[0] = arguments[0].domObj;
						}

						return this.domObj[method].apply(this.domObj, arguments);
					}
				}
			})
		});

  		var a = $("#test");
  		var b = $("#test2");

  		var c = new test.DOMModule(a);
  		var d = new test.DOMModule(b);


		JSLitmus.test('a', function(count) {
		  while (count--) {
		  		c.domObj.append(d.domObj);
		  }
		});			

		JSLitmus.test('b', function(count) {
		  while (count--){
		  		a.append(b);
		  }
		});

		</script>
	</head>
	<body>
		<div id="test">aa</div>
		<div id="test2">zz</div>
		
	</body>

</html>